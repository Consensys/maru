plugins {
  id 'maru.kotlin-library-conventions'
}

dependencies {
  implementation(project(":consensus"))
  implementation(project(":app"))
  implementation(project(":crypto"))
  implementation(testFixtures(project(":crypto")))
  implementation(project(":p2p"))
  implementation(project(":config"))
  implementation(project(":jvm-libs:extensions"))
  implementation "build.linea.internal:kotlin"
  implementation "build.linea.internal:long-running-service"


  api "org.hyperledger.besu.internal:besu-acceptance-tests-dsl"
  implementation("org.hyperledger.besu.internal:besu-ethereum-core")
  implementation("org.hyperledger.besu.internal:besu-ethereum-eth")
  implementation("org.hyperledger.besu.internal:besu-ethereum-api")
  implementation("org.hyperledger.besu.internal:besu-consensus-merge")
  implementation("org.hyperledger.besu.internal:besu-crypto-algorithms")
  implementation("org.hyperledger.besu.internal:besu-consensus-clique")
  implementation("org.hyperledger.besu.internal:besu-plugins-rocksdb")
  implementation(group: 'org.hyperledger.besu.internal', name: 'besu-ethereum-core', classifier: 'test-support')
  implementation("com.fasterxml.jackson.module:jackson-module-kotlin")

  implementation "build.linea.internal:metrics"

  implementation "org.web3j:core"
  implementation 'org.assertj:assertj-core'
  implementation 'org.awaitility:awaitility-kotlin'
}

test {
  maxParallelForks = Runtime.runtime.availableProcessors() / 2 ?: 1
}
