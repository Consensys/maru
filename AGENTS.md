# Maru AGENTS.md file

Maru is an Ethereum Consensus client that implements QBFT Consensus algorithm. It's meant to be used on Ethereum L2-s,
the main focus is on Linea support. The main purpose or Maru is to enable the usage the existing Ethereum EL clients on
Linea by setting the head of the chain with the Engine API. For that Maru maintains its own beacon chain, can peer with
and sync from other Maru clients, same as other CL and EL Clients.

## Code style and quality
- Please use best practices from "Software Engineering at Google" book. Please aim to keep the code clean, readable and maintainable
- When writing new classes, please stick to the OOP, SOLID principles and GOF Design Patterns
- When adding a new file and the code, please refer to the existing files to write new code in a way that is uniform with the existing codebase
- Kotlin is our main programming language. When writing new code, please avoid Java-like style and use Kotlin-native
  idioms
- Every time you're tempted to use inheritance, think again and use composition instead
- Avoid in line comments. Use variable/function/class names and tests as a documentation. Note that javadocs near
  classes and methods are fine in case they're really necessary
- Please respect ktlint and .editorconfig rules

## Dev environment tips
- The whole project can be built by `make build` or simply `./gradlew build`. Note that it takes a few minutes to
  run all the tests
- Code can be formatted by `make spotless-happy` or `./gradlew spotlessApply`
- When running the tests and debugging issues, please don't rely on console output, but rather parse the test
  results html generated by Gradle directly

## General instructions
- Before considering the work complete, ALWAYS make sure:
  - The whole project compiles
  - The code is properly formatted
